---
gitea_version: 1.21.2

gitea_additional_networks:
  - "{{ traefik_network_name }}"
  - "{{ postgresql_network_name }}"

gitea_domain: git.tdem.in

gitea_additional_config:
  database:
    DB_TYPE: postgres
    HOST: "{{ postgresql_host }}:{{ postgresql_port }}"
    NAME: gitea
    USER: gitea
    PASSWD: "{{ postgresql_passwords['gitea'] }}"

gitea_container_labels:
  traefik.enable: "true"
  traefik.http.routers.gitea.rule: Host(`{{ gitea_domain }}`)
  traefik.http.routers.gitea.entrypoints: https
  traefik.http.routers.gitea.tls: "true"
  traefik.http.routers.gitea.tls.certresolver: letsencrypt
  traefik.http.services.gitea.loadbalancer.server.port: "3000"

# branding
gitea_additional_files:
  - src: files/misc/gitea/head_navbar.tmpl
    dest: templates/base/head_navbar.tmpl
  - src: files/misc/gitea/git_icon.png
    dest: public/assets/git_icon.png
...
